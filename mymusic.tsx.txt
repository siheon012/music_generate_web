import { useState } from 'react';
import Layout from '../components/Layout';
import ChatLog from '../components/ChatLog';
import PromptInput from '../components/PromptInput';
import MusicList from '../components/MusicList';

export default function MyMusic() {
  const [messages, setMessages] = useState([]);
  const [songs, setSongs] = useState([
    { id: 1, title: 'Song 1', artist: 'Artist 1' },
    { id: 2, title: 'Song 2', artist: 'Artist 2' },
    { id: 3, title: 'Song 3', artist: 'Artist 3' },
  ]);

  const handlePromptSubmit = (prompt: string) => {
    // Handle prompt submission and update messages
    const newMessage = { id: messages.length + 1, text: prompt, isUser: true };
    setMessages([...messages, newMessage]);
    // Here you would typically send the prompt to your backend and get a response
  };

return (
  <Layout>
    <h1 className="text-3xl font-bold mb-4">My Music</h1>
    <div className="grid grid-cols-1 md:grid-cols-2 gap-8">
      <div>
        <MusicList songs={songs} />
      </div>
      <div className="chat-container">
        <div className="chat-header">Chat with Music GPT</div>
        <ChatLog messages={messages} />
        <PromptInput onSubmit={handlePromptSubmit} />
      </div>
    </div>
  </Layout>
);
}